"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "BaseEVMProvider", {
    enumerable: true,
    get: function() {
        return BaseEVMProvider;
    }
});
const _ethers = require("ethers");
const _enums = require("../../enums");
const _amount = require("../../helpers/amount");
const _eth = require("../../helpers/eth");
const _eventbus = require("./_event-bus");
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
    try {
        var info = gen[key](arg);
        var value = info.value;
    } catch (error) {
        reject(error);
        return;
    }
    if (info.done) {
        resolve(value);
    } else {
        Promise.resolve(value).then(_next, _throw);
    }
}
function _async_to_generator(fn) {
    return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
            var gen = fn.apply(self, args);
            function _next(value) {
                asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
            }
            function _throw(err) {
                asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
            }
            _next(undefined);
        });
    };
}
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
let BaseEVMProvider = class BaseEVMProvider extends _eventbus.ProviderEventBus {
    get chainType() {
        return _enums.CHAIN_TYPES.EVM;
    }
    get isConnected() {
        return Boolean(this.chainId && this.address);
    }
    get defaultEventPayload() {
        return {
            address: this.address,
            chainId: this.chainId,
            isConnected: this.isConnected
        };
    }
    init() {
        var _this = this;
        return _async_to_generator(function*() {
            yield _this.setListeners();
            const currentAccounts = yield _this.provider.listAccounts();
            const network = yield _this.provider.getNetwork();
            _this.address = currentAccounts[0];
            _this.chainId = (0, _amount.hexToDecimal)(network.chainId);
            _this.emit(_enums.PROVIDER_EVENT_BUS_EVENTS.Initiated, _this.defaultEventPayload);
        })();
    }
    switchChain(chainId) {
        var _this = this;
        return _async_to_generator(function*() {
            yield (0, _eth.requestSwitchEthChain)(_this.provider, chainId);
        })();
    }
    addChain(chain) {
        var _this = this;
        return _async_to_generator(function*() {
            yield (0, _eth.requestAddEthChain)(_this.provider, chain);
        })();
    }
    connect() {
        var _this = this;
        return _async_to_generator(function*() {
            yield (0, _eth.connectEthAccounts)(_this.provider);
        })();
    }
    getAddressUrl(chain, address) {
        return (0, _eth.getEthExplorerAddressUrl)(chain, address);
    }
    getTxUrl(chain, txHash) {
        return (0, _eth.getEthExplorerTxUrl)(chain, txHash);
    }
    getHashFromTx(txResponse) {
        return txResponse.transactionHash;
    }
    signAndSendTx(tx) {
        var _this = this;
        return _async_to_generator(function*() {
            _this.emit(_enums.PROVIDER_EVENT_BUS_EVENTS.BeforeTxSent, {
                txBody: tx
            });
            const transactionResponse = yield _this.provider.getSigner().sendTransaction(tx);
            _this.emit(_enums.PROVIDER_EVENT_BUS_EVENTS.TxSent, {
                txHash: transactionResponse.hash
            });
            const receipt = yield transactionResponse.wait();
            _this.emit(_enums.PROVIDER_EVENT_BUS_EVENTS.TxConfirmed, {
                txResponse: receipt
            });
            return receipt;
        })();
    }
    signMessage(message) {
        var _this = this;
        return _async_to_generator(function*() {
            return _this.provider.getSigner().signMessage(message);
        })();
    }
    setListeners() {
        var _this = this;
        return _async_to_generator(function*() {
            const stubProvider = _this.provider.provider;
            stubProvider.on(_enums.PROVIDER_EVENTS.AccountsChanged, /*#__PURE__*/ _async_to_generator(function*() {
                const currentAccounts = yield _this.provider.listAccounts();
                var _currentAccounts_;
                _this.address = (_currentAccounts_ = currentAccounts[0]) !== null && _currentAccounts_ !== void 0 ? _currentAccounts_ : '';
                _this.emit(_enums.PROVIDER_EVENT_BUS_EVENTS.AccountChanged, _this.defaultEventPayload);
                _this.emit(_this.isConnected ? _enums.PROVIDER_EVENT_BUS_EVENTS.Connect : _enums.PROVIDER_EVENT_BUS_EVENTS.Disconnect, _this.defaultEventPayload);
            }));
            stubProvider.on(_enums.PROVIDER_EVENTS.ChainChanged, (chainId)=>{
                _this.chainId = (0, _amount.hexToDecimal)(chainId);
                _this.emit(_enums.PROVIDER_EVENT_BUS_EVENTS.ChainChanged, _this.defaultEventPayload);
            });
        })();
    }
    constructor(provider){
        super();
        _define_property(this, "provider", void 0);
        _define_property(this, "rawProvider", void 0);
        _define_property(this, "chainId", void 0);
        _define_property(this, "address", void 0);
        this.provider = new _ethers.providers.Web3Provider(provider, 'any');
        this.rawProvider = provider;
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9wcm92aWRlcnMvd3JhcHBlZC9fYmFzZS1ldm0udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBUcmFuc2FjdGlvblJlcXVlc3QgfSBmcm9tICdAZXRoZXJzcHJvamVjdC9hYnN0cmFjdC1wcm92aWRlcidcbmltcG9ydCB0eXBlIHsgRGVmZXJyYWJsZSB9IGZyb20gJ0BldGhlcnNwcm9qZWN0L3Byb3BlcnRpZXMnXG5pbXBvcnQgeyBwcm92aWRlcnMgfSBmcm9tICdldGhlcnMnXG5cbmltcG9ydCB7XG4gIENIQUlOX1RZUEVTLFxuICBQUk9WSURFUl9FVkVOVF9CVVNfRVZFTlRTLFxuICBQUk9WSURFUl9FVkVOVFMsXG59IGZyb20gJ0AvZW51bXMnXG5pbXBvcnQgeyBoZXhUb0RlY2ltYWwgfSBmcm9tICdAL2hlbHBlcnMvYW1vdW50J1xuaW1wb3J0IHtcbiAgY29ubmVjdEV0aEFjY291bnRzLFxuICBnZXRFdGhFeHBsb3JlckFkZHJlc3NVcmwsXG4gIGdldEV0aEV4cGxvcmVyVHhVcmwsXG4gIHJlcXVlc3RBZGRFdGhDaGFpbixcbiAgcmVxdWVzdFN3aXRjaEV0aENoYWluLFxufSBmcm9tICdAL2hlbHBlcnMvZXRoJ1xuaW1wb3J0IHR5cGUge1xuICBDaGFpbixcbiAgQ2hhaW5JZCxcbiAgRXRoVHJhbnNhY3Rpb25SZXNwb25zZSxcbiAgUHJvdmlkZXJQcm94eSxcbiAgUmF3UHJvdmlkZXIsXG4gIFNvbGFuYVRyYW5zYWN0aW9uUmVzcG9uc2UsXG4gIFRyYW5zYWN0aW9uUmVzcG9uc2UsXG4gIFR4UmVxdWVzdEJvZHksXG59IGZyb20gJ0AvdHlwZXMnXG5cbmltcG9ydCB7IFByb3ZpZGVyRXZlbnRCdXMgfSBmcm9tICcuL19ldmVudC1idXMnXG5cbmV4cG9ydCBjbGFzcyBCYXNlRVZNUHJvdmlkZXIgZXh0ZW5kcyBQcm92aWRlckV2ZW50QnVzIGltcGxlbWVudHMgUHJvdmlkZXJQcm94eSB7XG4gIHJlYWRvbmx5IHByb3ZpZGVyOiBwcm92aWRlcnMuV2ViM1Byb3ZpZGVyXG4gIHJhd1Byb3ZpZGVyOiBSYXdQcm92aWRlclxuXG4gIGNoYWluSWQ/OiBDaGFpbklkXG4gIGFkZHJlc3M/OiBzdHJpbmdcblxuICBjb25zdHJ1Y3Rvcihwcm92aWRlcjogUmF3UHJvdmlkZXIpIHtcbiAgICBzdXBlcigpXG5cbiAgICB0aGlzLnByb3ZpZGVyID0gbmV3IHByb3ZpZGVycy5XZWIzUHJvdmlkZXIoXG4gICAgICBwcm92aWRlciBhcyBwcm92aWRlcnMuRXh0ZXJuYWxQcm92aWRlcixcbiAgICAgICdhbnknLFxuICAgIClcblxuICAgIHRoaXMucmF3UHJvdmlkZXIgPSBwcm92aWRlclxuICB9XG5cbiAgZ2V0IGNoYWluVHlwZSgpOiBDSEFJTl9UWVBFUyB7XG4gICAgcmV0dXJuIENIQUlOX1RZUEVTLkVWTVxuICB9XG5cbiAgZ2V0IGlzQ29ubmVjdGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMuY2hhaW5JZCAmJiB0aGlzLmFkZHJlc3MpXG4gIH1cblxuICBnZXQgZGVmYXVsdEV2ZW50UGF5bG9hZCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWRkcmVzczogdGhpcy5hZGRyZXNzLFxuICAgICAgY2hhaW5JZDogdGhpcy5jaGFpbklkLFxuICAgICAgaXNDb25uZWN0ZWQ6IHRoaXMuaXNDb25uZWN0ZWQsXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnNldExpc3RlbmVycygpXG4gICAgY29uc3QgY3VycmVudEFjY291bnRzID0gYXdhaXQgdGhpcy5wcm92aWRlci5saXN0QWNjb3VudHMoKVxuICAgIGNvbnN0IG5ldHdvcmsgPSBhd2FpdCB0aGlzLnByb3ZpZGVyLmdldE5ldHdvcmsoKVxuXG4gICAgdGhpcy5hZGRyZXNzID0gY3VycmVudEFjY291bnRzWzBdXG4gICAgdGhpcy5jaGFpbklkID0gaGV4VG9EZWNpbWFsKG5ldHdvcmsuY2hhaW5JZCBhcyBDaGFpbklkKVxuXG4gICAgdGhpcy5lbWl0KFBST1ZJREVSX0VWRU5UX0JVU19FVkVOVFMuSW5pdGlhdGVkLCB0aGlzLmRlZmF1bHRFdmVudFBheWxvYWQpXG4gIH1cblxuICBhc3luYyBzd2l0Y2hDaGFpbihjaGFpbklkOiBDaGFpbklkKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgcmVxdWVzdFN3aXRjaEV0aENoYWluKHRoaXMucHJvdmlkZXIsIGNoYWluSWQpXG4gIH1cblxuICBhc3luYyBhZGRDaGFpbihjaGFpbjogQ2hhaW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCByZXF1ZXN0QWRkRXRoQ2hhaW4odGhpcy5wcm92aWRlciwgY2hhaW4pXG4gIH1cblxuICBhc3luYyBjb25uZWN0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IGNvbm5lY3RFdGhBY2NvdW50cyh0aGlzLnByb3ZpZGVyKVxuICB9XG5cbiAgZ2V0QWRkcmVzc1VybChjaGFpbjogQ2hhaW4sIGFkZHJlc3M6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGdldEV0aEV4cGxvcmVyQWRkcmVzc1VybChjaGFpbiwgYWRkcmVzcylcbiAgfVxuXG4gIGdldFR4VXJsKGNoYWluOiBDaGFpbiwgdHhIYXNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBnZXRFdGhFeHBsb3JlclR4VXJsKGNoYWluLCB0eEhhc2gpXG4gIH1cblxuICBnZXRIYXNoRnJvbVR4KHR4UmVzcG9uc2U6IFRyYW5zYWN0aW9uUmVzcG9uc2UpOiBzdHJpbmcge1xuICAgIHJldHVybiAodHhSZXNwb25zZSBhcyBFdGhUcmFuc2FjdGlvblJlc3BvbnNlKVxuICAgICAgLnRyYW5zYWN0aW9uSGFzaCBhcyBTb2xhbmFUcmFuc2FjdGlvblJlc3BvbnNlXG4gIH1cblxuICBhc3luYyBzaWduQW5kU2VuZFR4KHR4OiBUeFJlcXVlc3RCb2R5KTogUHJvbWlzZTxUcmFuc2FjdGlvblJlc3BvbnNlPiB7XG4gICAgdGhpcy5lbWl0KFBST1ZJREVSX0VWRU5UX0JVU19FVkVOVFMuQmVmb3JlVHhTZW50LCB7XG4gICAgICB0eEJvZHk6IHR4LFxuICAgIH0pXG4gICAgY29uc3QgdHJhbnNhY3Rpb25SZXNwb25zZSA9IGF3YWl0IHRoaXMucHJvdmlkZXJcbiAgICAgIC5nZXRTaWduZXIoKVxuICAgICAgLnNlbmRUcmFuc2FjdGlvbih0eCBhcyBEZWZlcnJhYmxlPFRyYW5zYWN0aW9uUmVxdWVzdD4pXG5cbiAgICB0aGlzLmVtaXQoUFJPVklERVJfRVZFTlRfQlVTX0VWRU5UUy5UeFNlbnQsIHtcbiAgICAgIHR4SGFzaDogdHJhbnNhY3Rpb25SZXNwb25zZS5oYXNoLFxuICAgIH0pXG5cbiAgICBjb25zdCByZWNlaXB0ID0gYXdhaXQgdHJhbnNhY3Rpb25SZXNwb25zZS53YWl0KClcblxuICAgIHRoaXMuZW1pdChQUk9WSURFUl9FVkVOVF9CVVNfRVZFTlRTLlR4Q29uZmlybWVkLCB7XG4gICAgICB0eFJlc3BvbnNlOiByZWNlaXB0LFxuICAgIH0pXG5cbiAgICByZXR1cm4gcmVjZWlwdFxuICB9XG5cbiAgYXN5bmMgc2lnbk1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gdGhpcy5wcm92aWRlci5nZXRTaWduZXIoKS5zaWduTWVzc2FnZShtZXNzYWdlKVxuICB9XG5cbiAgYXN5bmMgc2V0TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHN0dWJQcm92aWRlciA9IHRoaXMucHJvdmlkZXIucHJvdmlkZXIgYXMgcHJvdmlkZXJzLkJhc2VQcm92aWRlclxuXG4gICAgc3R1YlByb3ZpZGVyLm9uKFBST1ZJREVSX0VWRU5UUy5BY2NvdW50c0NoYW5nZWQsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRBY2NvdW50cyA9IGF3YWl0IHRoaXMucHJvdmlkZXIubGlzdEFjY291bnRzKClcbiAgICAgIHRoaXMuYWRkcmVzcyA9IGN1cnJlbnRBY2NvdW50c1swXSA/PyAnJ1xuXG4gICAgICB0aGlzLmVtaXQoXG4gICAgICAgIFBST1ZJREVSX0VWRU5UX0JVU19FVkVOVFMuQWNjb3VudENoYW5nZWQsXG4gICAgICAgIHRoaXMuZGVmYXVsdEV2ZW50UGF5bG9hZCxcbiAgICAgIClcbiAgICAgIHRoaXMuZW1pdChcbiAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZFxuICAgICAgICAgID8gUFJPVklERVJfRVZFTlRfQlVTX0VWRU5UUy5Db25uZWN0XG4gICAgICAgICAgOiBQUk9WSURFUl9FVkVOVF9CVVNfRVZFTlRTLkRpc2Nvbm5lY3QsXG4gICAgICAgIHRoaXMuZGVmYXVsdEV2ZW50UGF5bG9hZCxcbiAgICAgIClcbiAgICB9KVxuXG4gICAgc3R1YlByb3ZpZGVyLm9uKFBST1ZJREVSX0VWRU5UUy5DaGFpbkNoYW5nZWQsIChjaGFpbklkOiBDaGFpbklkKSA9PiB7XG4gICAgICB0aGlzLmNoYWluSWQgPSBoZXhUb0RlY2ltYWwoY2hhaW5JZClcblxuICAgICAgdGhpcy5lbWl0KFxuICAgICAgICBQUk9WSURFUl9FVkVOVF9CVVNfRVZFTlRTLkNoYWluQ2hhbmdlZCxcbiAgICAgICAgdGhpcy5kZWZhdWx0RXZlbnRQYXlsb2FkLFxuICAgICAgKVxuICAgIH0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJCYXNlRVZNUHJvdmlkZXIiLCJQcm92aWRlckV2ZW50QnVzIiwiY2hhaW5UeXBlIiwiQ0hBSU5fVFlQRVMiLCJFVk0iLCJpc0Nvbm5lY3RlZCIsIkJvb2xlYW4iLCJjaGFpbklkIiwiYWRkcmVzcyIsImRlZmF1bHRFdmVudFBheWxvYWQiLCJpbml0Iiwic2V0TGlzdGVuZXJzIiwiY3VycmVudEFjY291bnRzIiwicHJvdmlkZXIiLCJsaXN0QWNjb3VudHMiLCJuZXR3b3JrIiwiZ2V0TmV0d29yayIsImhleFRvRGVjaW1hbCIsImVtaXQiLCJQUk9WSURFUl9FVkVOVF9CVVNfRVZFTlRTIiwiSW5pdGlhdGVkIiwic3dpdGNoQ2hhaW4iLCJyZXF1ZXN0U3dpdGNoRXRoQ2hhaW4iLCJhZGRDaGFpbiIsImNoYWluIiwicmVxdWVzdEFkZEV0aENoYWluIiwiY29ubmVjdCIsImNvbm5lY3RFdGhBY2NvdW50cyIsImdldEFkZHJlc3NVcmwiLCJnZXRFdGhFeHBsb3JlckFkZHJlc3NVcmwiLCJnZXRUeFVybCIsInR4SGFzaCIsImdldEV0aEV4cGxvcmVyVHhVcmwiLCJnZXRIYXNoRnJvbVR4IiwidHhSZXNwb25zZSIsInRyYW5zYWN0aW9uSGFzaCIsInNpZ25BbmRTZW5kVHgiLCJ0eCIsIkJlZm9yZVR4U2VudCIsInR4Qm9keSIsInRyYW5zYWN0aW9uUmVzcG9uc2UiLCJnZXRTaWduZXIiLCJzZW5kVHJhbnNhY3Rpb24iLCJUeFNlbnQiLCJoYXNoIiwicmVjZWlwdCIsIndhaXQiLCJUeENvbmZpcm1lZCIsInNpZ25NZXNzYWdlIiwibWVzc2FnZSIsInN0dWJQcm92aWRlciIsIm9uIiwiUFJPVklERVJfRVZFTlRTIiwiQWNjb3VudHNDaGFuZ2VkIiwiQWNjb3VudENoYW5nZWQiLCJDb25uZWN0IiwiRGlzY29ubmVjdCIsIkNoYWluQ2hhbmdlZCIsImNvbnN0cnVjdG9yIiwicmF3UHJvdmlkZXIiLCJwcm92aWRlcnMiLCJXZWIzUHJvdmlkZXIiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBOEJhQTs7O2VBQUFBOzs7d0JBNUJhO3VCQU1uQjt3QkFDc0I7cUJBT3RCOzBCQVkwQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUUxQixJQUFBLEFBQU1BLGtCQUFOLE1BQU1BLHdCQUF3QkMsMEJBQWdCO0lBa0JuRCxJQUFJQyxZQUF5QjtRQUMzQixPQUFPQyxr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