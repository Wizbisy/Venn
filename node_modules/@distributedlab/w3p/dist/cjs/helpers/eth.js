"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    connectEthAccounts: function() {
        return connectEthAccounts;
    },
    getEthExplorerAddressUrl: function() {
        return getEthExplorerAddressUrl;
    },
    getEthExplorerTxUrl: function() {
        return getEthExplorerTxUrl;
    },
    handleEthError: function() {
        return handleEthError;
    },
    requestAddEthChain: function() {
        return requestAddEthChain;
    },
    requestSwitchEthChain: function() {
        return requestSwitchEthChain;
    },
    wrapExternalEthProvider: function() {
        return wrapExternalEthProvider;
    }
});
const _tools = require("@distributedlab/tools");
const _ethers = require("ethers");
const _enums = require("../enums");
const _errors = require("../errors");
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
    try {
        var info = gen[key](arg);
        var value = info.value;
    } catch (error) {
        reject(error);
        return;
    }
    if (info.done) {
        resolve(value);
    } else {
        Promise.resolve(value).then(_next, _throw);
    }
}
function _async_to_generator(fn) {
    return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
            var gen = fn.apply(self, args);
            function _next(value) {
                asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
            }
            function _throw(err) {
                asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
            }
            _next(undefined);
        });
    };
}
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function _object_spread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
                return Object.getOwnPropertyDescriptor(source, sym).enumerable;
            }));
        }
        ownKeys.forEach(function(key) {
            _define_property(target, key, source[key]);
        });
    }
    return target;
}
function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly) {
            symbols = symbols.filter(function(sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
        }
        keys.push.apply(keys, symbols);
    }
    return keys;
}
function _object_spread_props(target, source) {
    source = source != null ? source : {};
    if (Object.getOwnPropertyDescriptors) {
        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
        ownKeys(Object(source)).forEach(function(key) {
            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
    }
    return target;
}
const getEthExplorerTxUrl = (chain, txHash)=>{
    return `${chain.explorerUrl}/tx/${txHash}`;
};
const getEthExplorerAddressUrl = (chain, address)=>{
    return `${chain.explorerUrl}/address/${address}`;
};
const requestSwitchEthChain = function() {
    var _ref = _async_to_generator(function*(provider, chainId) {
        yield provider.send('wallet_switchEthereumChain', [
            {
                chainId: _ethers.utils.hexValue(chainId)
            }
        ]);
    });
    return function requestSwitchEthChain(provider, chainId) {
        return _ref.apply(this, arguments);
    };
}();
const requestAddEthChain = function() {
    var _ref = _async_to_generator(function*(provider, chain) {
        var _chain_token_decimals;
        yield provider.send('wallet_addEthereumChain', [
            _object_spread(_object_spread_props(_object_spread({
                chainId: _ethers.utils.hexValue(Number(chain.id)),
                chainName: chain.name
            }, chain.token.name && chain.token.symbol && {
                nativeCurrency: {
                    name: chain.token.name,
                    symbol: chain.token.symbol,
                    decimals: (_chain_token_decimals = chain.token.decimals) !== null && _chain_token_decimals !== void 0 ? _chain_token_decimals : _tools.DECIMALS.WEI
                }
            }), {
                rpcUrls: [
                    chain.rpcUrl
                ],
                blockExplorerUrls: [
                    ...chain.explorerUrl ? [
                        chain.explorerUrl
                    ] : []
                ]
            }), chain.icon && {
                iconUrls: [
                    chain.icon
                ]
            })
        ]);
    });
    return function requestAddEthChain(provider, chain) {
        return _ref.apply(this, arguments);
    };
}();
const connectEthAccounts = function() {
    var _ref = _async_to_generator(function*(provider) {
        yield provider.send('eth_requestAccounts', []);
    });
    return function connectEthAccounts(provider) {
        return _ref.apply(this, arguments);
    };
}();
function handleEthError(error, defaultHandlerFn) {
    switch(error.code){
        case _enums.EIP1193.UserRejectedRequest:
            throw new _errors.errors.ProviderUserRejectedRequest(error);
        case _enums.EIP1193.UnrecognizedChain:
            throw new _errors.errors.ProviderChainNotFoundError(error);
        case _enums.EIP1193.Unauthorized:
            throw new _errors.errors.ProviderUnauthorized(error);
        case _enums.EIP1193.UnsupportedMethod:
            throw new _errors.errors.ProviderUnsupportedMethod(error);
        case _enums.EIP1193.Disconnected:
            throw new _errors.errors.ProviderDisconnected(error);
        case _enums.EIP1193.ChainDisconnected:
            throw new _errors.errors.ProviderChainDisconnected(error);
        case _enums.EIP1474.ParseError:
            throw new _errors.errors.ProviderParseError(error);
        case _enums.EIP1474.InvalidRequest:
            throw new _errors.errors.ProviderInvalidRequest(error);
        case _enums.EIP1474.MethodNotFound:
            throw new _errors.errors.ProviderMethodNotFound(error);
        case _enums.EIP1474.InvalidParams:
            throw new _errors.errors.ProviderInvalidParams(error);
        case _enums.EIP1474.InternalError:
            throw new _errors.errors.ProviderInternalError(error);
        case _enums.EIP1474.InvalidInput:
            throw new _errors.errors.ProviderInvalidInput(error);
        case _enums.EIP1474.ResourceNotFound:
            throw new _errors.errors.ProviderResourceNotFound(error);
        case _enums.EIP1474.ResourceUnavailable:
            throw new _errors.errors.ProviderResourceUnavailable(error);
        case _enums.EIP1474.TransactionRejected:
            throw new _errors.errors.ProviderTransactionRejected(error);
        case _enums.EIP1474.MethodNotSupported:
            throw new _errors.errors.ProviderMethodNotSupported(error);
        case _enums.EIP1474.LimitExceeded:
            throw new _errors.errors.ProviderLimitExceeded(error);
        case _enums.EIP1474.JsonRpcVersionNotSupported:
            throw new _errors.errors.ProviderJsonRpcVersionNotSupported(error);
        default:
            if (defaultHandlerFn) {
                defaultHandlerFn(error);
            }
            throw error;
    }
}
const wrapExternalEthProvider = (provider, errorHandler)=>{
    var _provider_request;
    const _baseRequest = (_provider_request = provider.request) === null || _provider_request === void 0 ? void 0 : _provider_request.bind(provider);
    provider.request = function() {
        var _ref = _async_to_generator(function*(request) {
            let result;
            try {
                result = yield _baseRequest === null || _baseRequest === void 0 ? void 0 : _baseRequest(request);
            } catch (error) {
                handleEthError(error, errorHandler);
            }
            return result;
        });
        return function(request) {
            return _ref.apply(this, arguments);
        };
    }();
    return provider;
} /*#__PURE__*/  /*#__PURE__*/  /*#__PURE__*/  /*#__PURE__*/ ;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9oZWxwZXJzL2V0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBERUNJTUFMUyB9IGZyb20gJ0BkaXN0cmlidXRlZGxhYi90b29scydcbmltcG9ydCB7IHR5cGUgcHJvdmlkZXJzLCB1dGlscyB9IGZyb20gJ2V0aGVycydcblxuaW1wb3J0IHsgRUlQMTE5MywgRUlQMTQ3NCB9IGZyb20gJ0AvZW51bXMnXG5pbXBvcnQgeyBlcnJvcnMgfSBmcm9tICdAL2Vycm9ycydcbmltcG9ydCB0eXBlIHsgQ2hhaW4sIENoYWluSWQsIEV0aFByb3ZpZGVyUnBjRXJyb3IgfSBmcm9tICdAL3R5cGVzJ1xuXG5leHBvcnQgY29uc3QgZ2V0RXRoRXhwbG9yZXJUeFVybCA9IChjaGFpbjogQ2hhaW4sIHR4SGFzaDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIGAke2NoYWluLmV4cGxvcmVyVXJsfS90eC8ke3R4SGFzaH1gXG59XG5cbmV4cG9ydCBjb25zdCBnZXRFdGhFeHBsb3JlckFkZHJlc3NVcmwgPSAoXG4gIGNoYWluOiBDaGFpbixcbiAgYWRkcmVzczogc3RyaW5nLFxuKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIGAke2NoYWluLmV4cGxvcmVyVXJsfS9hZGRyZXNzLyR7YWRkcmVzc31gXG59XG5cbmV4cG9ydCBjb25zdCByZXF1ZXN0U3dpdGNoRXRoQ2hhaW4gPSBhc3luYyAoXG4gIHByb3ZpZGVyOiBwcm92aWRlcnMuV2ViM1Byb3ZpZGVyLFxuICBjaGFpbklkOiBDaGFpbklkLFxuKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGF3YWl0IHByb3ZpZGVyLnNlbmQoJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJywgW1xuICAgIHsgY2hhaW5JZDogdXRpbHMuaGV4VmFsdWUoY2hhaW5JZCkgfSxcbiAgXSlcbn1cblxuZXhwb3J0IGNvbnN0IHJlcXVlc3RBZGRFdGhDaGFpbiA9IGFzeW5jIChcbiAgcHJvdmlkZXI6IHByb3ZpZGVycy5XZWIzUHJvdmlkZXIsXG4gIGNoYWluOiBDaGFpbixcbik6IFByb21pc2U8dm9pZD4gPT4ge1xuICBhd2FpdCBwcm92aWRlci5zZW5kKCd3YWxsZXRfYWRkRXRoZXJldW1DaGFpbicsIFtcbiAgICB7XG4gICAgICBjaGFpbklkOiB1dGlscy5oZXhWYWx1ZShOdW1iZXIoY2hhaW4uaWQpKSxcbiAgICAgIGNoYWluTmFtZTogY2hhaW4ubmFtZSxcbiAgICAgIC4uLihjaGFpbi50b2tlbi5uYW1lICYmXG4gICAgICAgIGNoYWluLnRva2VuLnN5bWJvbCAmJiB7XG4gICAgICAgICAgbmF0aXZlQ3VycmVuY3k6IHtcbiAgICAgICAgICAgIG5hbWU6IGNoYWluLnRva2VuLm5hbWUsXG4gICAgICAgICAgICBzeW1ib2w6IGNoYWluLnRva2VuLnN5bWJvbCxcbiAgICAgICAgICAgIGRlY2ltYWxzOiBjaGFpbi50b2tlbi5kZWNpbWFscyA/PyBERUNJTUFMUy5XRUksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICBycGNVcmxzOiBbY2hhaW4ucnBjVXJsXSxcbiAgICAgIGJsb2NrRXhwbG9yZXJVcmxzOiBbLi4uKGNoYWluLmV4cGxvcmVyVXJsID8gW2NoYWluLmV4cGxvcmVyVXJsXSA6IFtdKV0sXG4gICAgICAuLi4oY2hhaW4uaWNvbiAmJiB7IGljb25VcmxzOiBbY2hhaW4uaWNvbl0gfSksXG4gICAgfSxcbiAgXSlcbn1cblxuZXhwb3J0IGNvbnN0IGNvbm5lY3RFdGhBY2NvdW50cyA9IGFzeW5jIChwcm92aWRlcjogcHJvdmlkZXJzLldlYjNQcm92aWRlcikgPT4ge1xuICBhd2FpdCBwcm92aWRlci5zZW5kKCdldGhfcmVxdWVzdEFjY291bnRzJywgW10pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVFdGhFcnJvcihcbiAgZXJyb3I6IEV0aFByb3ZpZGVyUnBjRXJyb3IsXG4gIGRlZmF1bHRIYW5kbGVyRm4/OiAoZXJyb3I6IEV0aFByb3ZpZGVyUnBjRXJyb3IpID0+IHVua25vd24sXG4pOiBuZXZlciB7XG4gIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgIGNhc2UgRUlQMTE5My5Vc2VyUmVqZWN0ZWRSZXF1ZXN0OlxuICAgICAgdGhyb3cgbmV3IGVycm9ycy5Qcm92aWRlclVzZXJSZWplY3RlZFJlcXVlc3QoZXJyb3IpXG4gICAgY2FzZSBFSVAxMTkzLlVucmVjb2duaXplZENoYWluOlxuICAgICAgdGhyb3cgbmV3IGVycm9ycy5Qcm92aWRlckNoYWluTm90Rm91bmRFcnJvcihlcnJvcilcbiAgICBjYXNlIEVJUDExOTMuVW5hdXRob3JpemVkOlxuICAgICAgdGhyb3cgbmV3IGVycm9ycy5Qcm92aWRlclVuYXV0aG9yaXplZChlcnJvcilcbiAgICBjYXNlIEVJUDExOTMuVW5zdXBwb3J0ZWRNZXRob2Q6XG4gICAgICB0aHJvdyBuZXcgZXJyb3JzLlByb3ZpZGVyVW5zdXBwb3J0ZWRNZXRob2QoZXJyb3IpXG4gICAgY2FzZSBFSVAxMTkzLkRpc2Nvbm5lY3RlZDpcbiAgICAgIHRocm93IG5ldyBlcnJvcnMuUHJvdmlkZXJEaXNjb25uZWN0ZWQoZXJyb3IpXG4gICAgY2FzZSBFSVAxMTkzLkNoYWluRGlzY29ubmVjdGVkOlxuICAgICAgdGhyb3cgbmV3IGVycm9ycy5Qcm92aWRlckNoYWluRGlzY29ubmVjdGVkKGVycm9yKVxuICAgIGNhc2UgRUlQMTQ3NC5QYXJzZUVycm9yOlxuICAgICAgdGhyb3cgbmV3IGVycm9ycy5Qcm92aWRlclBhcnNlRXJyb3IoZXJyb3IpXG4gICAgY2FzZSBFSVAxNDc0LkludmFsaWRSZXF1ZXN0OlxuICAgICAgdGhyb3cgbmV3IGVycm9ycy5Qcm92aWRlckludmFsaWRSZXF1ZXN0KGVycm9yKVxuICAgIGNhc2UgRUlQMTQ3NC5NZXRob2ROb3RGb3VuZDpcbiAgICAgIHRocm93IG5ldyBlcnJvcnMuUHJvdmlkZXJNZXRob2ROb3RGb3VuZChlcnJvcilcbiAgICBjYXNlIEVJUDE0NzQuSW52YWxpZFBhcmFtczpcbiAgICAgIHRocm93IG5ldyBlcnJvcnMuUHJvdmlkZXJJbnZhbGlkUGFyYW1zKGVycm9yKVxuICAgIGNhc2UgRUlQMTQ3NC5JbnRlcm5hbEVycm9yOlxuICAgICAgdGhyb3cgbmV3IGVycm9ycy5Qcm92aWRlckludGVybmFsRXJyb3IoZXJyb3IpXG4gICAgY2FzZSBFSVAxNDc0LkludmFsaWRJbnB1dDpcbiAgICAgIHRocm93IG5ldyBlcnJvcnMuUHJvdmlkZXJJbnZhbGlkSW5wdXQoZXJyb3IpXG4gICAgY2FzZSBFSVAxNDc0LlJlc291cmNlTm90Rm91bmQ6XG4gICAgICB0aHJvdyBuZXcgZXJyb3JzLlByb3ZpZGVyUmVzb3VyY2VOb3RGb3VuZChlcnJvcilcbiAgICBjYXNlIEVJUDE0NzQuUmVzb3VyY2VVbmF2YWlsYWJsZTpcbiAgICAgIHRocm93IG5ldyBlcnJvcnMuUHJvdmlkZXJSZXNvdXJjZVVuYXZhaWxhYmxlKGVycm9yKVxuICAgIGNhc2UgRUlQMTQ3NC5UcmFuc2FjdGlvblJlamVjdGVkOlxuICAgICAgdGhyb3cgbmV3IGVycm9ycy5Qcm92aWRlclRyYW5zYWN0aW9uUmVqZWN0ZWQoZXJyb3IpXG4gICAgY2FzZSBFSVAxNDc0Lk1ldGhvZE5vdFN1cHBvcnRlZDpcbiAgICAgIHRocm93IG5ldyBlcnJvcnMuUHJvdmlkZXJNZXRob2ROb3RTdXBwb3J0ZWQoZXJyb3IpXG4gICAgY2FzZSBFSVAxNDc0LkxpbWl0RXhjZWVkZWQ6XG4gICAgICB0aHJvdyBuZXcgZXJyb3JzLlByb3ZpZGVyTGltaXRFeGNlZWRlZChlcnJvcilcbiAgICBjYXNlIEVJUDE0NzQuSnNvblJwY1ZlcnNpb25Ob3RTdXBwb3J0ZWQ6XG4gICAgICB0aHJvdyBuZXcgZXJyb3JzLlByb3ZpZGVySnNvblJwY1ZlcnNpb25Ob3RTdXBwb3J0ZWQoZXJyb3IpXG4gICAgZGVmYXVsdDpcbiAgICAgIGlmIChkZWZhdWx0SGFuZGxlckZuKSB7XG4gICAgICAgIGRlZmF1bHRIYW5kbGVyRm4oZXJyb3IpXG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHdyYXBFeHRlcm5hbEV0aFByb3ZpZGVyID0gKFxuICBwcm92aWRlcjogcHJvdmlkZXJzLkV4dGVybmFsUHJvdmlkZXIsXG4gIGVycm9ySGFuZGxlcj86IChlcnJvcjogRXJyb3IpID0+IHVua25vd24sXG4pID0+IHtcbiAgY29uc3QgX2Jhc2VSZXF1ZXN0ID0gcHJvdmlkZXIucmVxdWVzdD8uYmluZChwcm92aWRlcilcblxuICBwcm92aWRlci5yZXF1ZXN0ID0gYXN5bmMgKHJlcXVlc3Q6IHtcbiAgICBtZXRob2Q6IHN0cmluZ1xuICAgIHBhcmFtcz86IEFycmF5PHVua25vd24+XG4gIH0pID0+IHtcbiAgICBsZXQgcmVzdWx0OiB1bmtub3duXG5cbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgX2Jhc2VSZXF1ZXN0Py4ocmVxdWVzdClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaGFuZGxlRXRoRXJyb3IoZXJyb3IgYXMgRXRoUHJvdmlkZXJScGNFcnJvciwgZXJyb3JIYW5kbGVyKVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHJldHVybiBwcm92aWRlclxufVxuIl0sIm5hbWVzIjpbImNvbm5lY3RFdGhBY2NvdW50cyIsImdldEV0aEV4cGxvcmVyQWRkcmVzc1VybCIsImdldEV0aEV4cGxvcmVyVHhVcmwiLCJoYW5kbGVFdGhFcnJvciIsInJlcXVlc3RBZGRFdGhDaGFpbiIsInJlcXVlc3RTd2l0Y2hFdGhDaGFpbiIsIndyYXBFeHRlcm5hbEV0aFByb3ZpZGVyIiwiY2hhaW4iLCJ0eEhhc2giLCJleHBsb3JlclVybCIsImFkZHJlc3MiLCJwcm92aWRlciIsImNoYWluSWQiLCJzZW5kIiwidXRpbHMiLCJoZXhWYWx1ZSIsIk51bWJlciIsImlkIiwiY2hhaW5OYW1lIiwibmFtZSIsInRva2VuIiwic3ltYm9sIiwibmF0aXZlQ3VycmVuY3kiLCJkZWNpbWFscyIsIkRFQ0lNQUxTIiwiV0VJIiwicnBjVXJscyIsInJwY1VybCIsImJsb2NrRXhwbG9yZXJVcmxzIiwiaWNvbiIsImljb25VcmxzIiwiZXJyb3IiLCJkZWZhdWx0SGFuZGxlckZuIiwiY29kZSIsIkVJUDExOTMiLCJVc2VyUmVqZWN0ZWRSZXF1ZXN0IiwiZXJyb3JzIiwiUHJvdmlkZXJVc2VyUmVqZWN0ZWRSZXF1ZXN0IiwiVW5yZWNvZ25pemVkQ2hhaW4iLCJQcm92aWRlckNoYWluTm90Rm91bmRFcnJvciIsIlVuYXV0aG9yaXplZCIsIlByb3ZpZGVyVW5hdXRob3JpemVkIiwiVW5zdXBwb3J0ZWRNZXRob2QiLCJQcm92aWRlclVuc3VwcG9ydGVkTWV0aG9kIiwiRGlzY29ubmVjdGVkIiwiUHJvdmlkZXJEaXNjb25uZWN0ZWQiLCJDaGFpbkRpc2Nvbm5lY3RlZCIsIlByb3ZpZGVyQ2hhaW5EaXNjb25uZWN0ZWQiLCJFSVAxNDc0IiwiUGFyc2VFcnJvciIsIlByb3ZpZGVyUGFyc2VFcnJvciIsIkludmFsaWRSZXF1ZXN0IiwiUHJvdmlkZXJJbnZhbGlkUmVxdWVzdCIsIk1ldGhvZE5vdEZvdW5kIiwiUHJvdmlkZXJNZXRob2ROb3RGb3VuZCIsIkludmFsaWRQYXJhbXMiLCJQcm92aWRlckludmFsaWRQYXJhbXMiLCJJbnRlcm5hbEVycm9yIiwiUHJvdmlkZXJJbnRlcm5hbEVycm9yIiwiSW52YWxpZElucHV0IiwiUHJvdmlkZXJJbnZhbGlkSW5wdXQiLCJSZXNvdXJjZU5vdEZvdW5kIiwiUHJvdmlkZXJSZXNvdXJjZU5vdEZvdW5kIiwiUmVzb3VyY2VVbmF2YWlsYWJsZSIsIlByb3ZpZGVyUmVzb3VyY2VVbmF2YWlsYWJsZSIsIlRyYW5zYWN0aW9uUmVqZWN0ZWQiLCJQcm92aWRlclRyYW5zYWN0aW9uUmVqZWN0ZWQiLCJNZXRob2ROb3RTdXBwb3J0ZWQiLCJQcm92aWRlck1ldGhvZE5vdFN1cHBvcnRlZCIsIkxpbWl0RXhjZWVkZWQiLCJQcm92aWRlckxpbWl0RXhjZWVkZWQiLCJKc29uUnBjVmVyc2lvbk5vdFN1cHBvcnRlZCIsIlByb3ZpZGVySnNvblJwY1ZlcnNpb25Ob3RTdXBwb3J0ZWQiLCJlcnJvckhhbmRsZXIiLCJfYmFzZVJlcXVlc3QiLCJyZXF1ZXN0IiwiYmluZCIsInJlc3VsdCJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBa0RhQSxrQkFBa0I7ZUFBbEJBOztJQXZDQUMsd0JBQXdCO2VBQXhCQTs7SUFKQUMsbUJBQW1CO2VBQW5CQTs7SUErQ0dDLGNBQWM7ZUFBZEE7O0lBM0JIQyxrQkFBa0I7ZUFBbEJBOztJQVRBQyxxQkFBcUI7ZUFBckJBOztJQXNGQUMsdUJBQXVCO2VBQXZCQTs7O3VCQXhHWTt3QkFDYTt1QkFFTDt3QkFDVjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdoQixNQUFNSixzQkFBc0IsQ0FBQ0ssT0FBY0M7SUFDaEQsT0FBTyxDQUFDLEVBQUVELE1BQU1FLFdBQVcsQ0FBQyxJQUFJLEVBQUVELE9BQU8sQ0FBQztBQUM1QztBQUVPLE1BQU1QLDJCQUEyQixDQUN0Q00sT0FDQUc7SUFFQSxPQUFPLENBQUMsRUFBRUgsTUFBTUUsV0FBVyxDQUFDLFNBQVMsRUFBRUMsUUFBUSxDQUFDO0FBQ2xEO0FBRU8sTUFBTUw7ZUFBd0Isb0JBQUEsVUFDbkNNLFVBQ0FDO1FBRUEsTUFBTUQsU0FBU0UsSUFBSSxDQUFDLDhCQUE4QjtZQUNoRDtnQkFBRUQsU0FBU0UsYUFBSyxD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